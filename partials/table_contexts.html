<div ng-include="'partials/search_buttons.html'"></div>

<div class="container" id="container">
	<!--------List View-------------->
	<div id="movingBallG" ng-show="loading==true">
		<div class="movingBallLineG"></div>
		<div id="movingBallG_1" class="movingBallG"></div>
	</div>
	<section id="nofilter-list"  class="stage" >
		<div id= "unfiltered-table" ng-hide="loading==true" id="row">

			<table>
				<thead>
					<tr>
						<th>Id</th>
						<th>Name</th>
						<th>FeedUrl</th>
						<th>Publication</th>
						<th>Domain</th>
						<th>Parser-Class</th>
						<th>Pas</th>
						<th>Pas Std</th>
						<th>Twitter Handle</th>
						<th>Article Whitelist</th>
						<th>Twitter Whitelist</th>
						<th>CDN-Domains</th>
					</tr>
				</thead>
				<tbody style="oveflow:auto">
					 <tr ng-show="item.show=true" ng-repeat="item in adder.contexts  track by $index">
					 	<td class="contexts">{{item.id}}</td>
					 	<td  class="contexts">
						<input type="text" ng-model="item.name" ng-blur="createParserClass(item)" placeholder="Name" value="{{item.name}}"/>
						</td>
						<td  class="contexts" >
							<input type="text" ng-model="item.feed_url" placeholder="Feed Url" ng-model="item.feed_url"  value="{{item.feed_url}}" ng-blur="createDomain(item.feed_url, item)"  ng-change="checkInput(item.feed_url, $index,adder.contexts)" ng-delay="700"/><span class="red" ng-hide="item.httpThere==true">*Please add a properly formatted url.</span></td>
						<td  class="contexts">
						<input type="text" placeholder="Publication" ng-model="item.publication" value="{{item.publication}}"/>
						</td>
						<td  class="contexts">
						<input type="text" placeholder="Domain" ng-model="item.domain" value="{{item.domain}}"/>
						</td>
						<td  class="contexts">
						<input type="text" placeholder="Parser Class" ng-model="item.parser_class" value="{{item.parser_class}}"/>
						</td>
						<td  class="contexts">
						<input type="text" placeholder="Pas" ng-model="item.pas" value="{{item.pas}}"/>
						</td>
						<td  class="contexts">
						<input type="text" placeholder="Pas Std" ng-model="item.pas_std" value="{{item.pas_std}}"/>
						</td>
						<td  class="contexts">
						<input type="text" placeholder="Twitter Handle" ng-model="item.twitter_handle" value="{{item.twitter_handle}}"/>
						</td>
						<td  class="contexts" ng-click="changeCheck('article_whitelist', $index, adder.contexts)">
								<span class="icon-checkbox-unchecked blue" ng-hide="item.article_whitelist==true" ng-model="item.article_whitelist"></span>
								<span class="icon-checkbox-checked blue" ng-hide="item.article_whitelist==false"  ng-model="item.article_whitelist"></span>

						</td>
						<td  class="contexts" >
								<span class="icon-checkbox-unchecked blue" ng-hide="item.twitter_whitelist==true" ng-model="item.twitter_whitelist" ng-click="changeCheck('twitter_whitelist', $index, adder.contexts)"></span>
								<span class="icon-checkbox-checked blue" ng-hide="item.twitter_whitelist==false"  ng-model="item.twitter_whitelist" ng-click="changeCheck('twitter_whitelist', $index, adder.contexts)"></span>


						</td>
						<td  class="contexts whitelist">
						<input type="text" placeholder="CDN-Domains" value="{{item.cdn_domains.toString()}}"/>
						<div class="show_icons">
							<span class="icon-floppy-disk" ng-click="savItem($index, 'new')"></span>
								<span class="icon-cancel-circle" ng-click="close($index)"></span>
							
						</div>
						</td>

					 </tr>	
					<tr  ng-repeat = "item in data.active">

						<td class="contexts id">{{item.id}}</td>
						<td ng-hide="item.Edit==true;" class="contexts">{{item.name}}</td>
						<td ng-hide="item.Edit==true;" class="contexts url"><a href="{{item.feed_url}}" target="_blank">{{item.feed_url}}</a></td>
						<td ng-hide="item.Edit==true;"  class="contexts" >{{item.publication}}</td>
						<td ng-hide="item.Edit==true;"  class="contexts" >{{item.domain}}</td>
						<td ng-hide="item.Edit==true;" class="contexts" >{{item.parser_class}}</td>
						<td ng-hide="item.Edit==true;"  class="contexts" >{{item.pas}}</td>
						<td ng-hide="item.Edit==true;"  class="contexts" >{{item.pas_std}}</td>
						<td ng-hide="item.Edit==true;"  class="contexts" >{{item.twitter_handle}}</td>
						<td ng-hide="item.Edit==true;"  class="contexts" >
							{{item.article_whitelist}}
						</td>

						<td ng-hide="item.Edit==true;"  class="contexts"  >
							{{item.twitter_whitelist}}
						</td>
						<td ng-hide="item.Edit==true;"  class="contexts whitelist" >{{item.cdn_domains.toString()}}
						<div ng-hide="showEditIcons==false">
							<span class="icon-pencil" ng-click="editItem($index)"></span>
								<span class="icon-bin" ng-click="deleteItem($index)"></span>
						

						</div></td>

						

						<td  ng-show="item.Edit==true" class="contexts">
						<input type="text" ng-model="item.name" ng-blur="createParserClass(item)" placeholder="Name" value="{{item.name}}"/>
						</td>
						<td  ng-show="item.Edit==true" class="contexts" >
							<input type="text" ng-model="item.feed_url" placeholder="Feed Url" ng-model="item.feed_url"  value="{{item.feed_url}}" ng-blur="createDomain(item.feed_url, item)"  ng-change="checkInput(item.feed_url, $index, data.active)" ng-delay="700"/><span class="red" ng-hide="item.httpThere==true">*Please add a properly formatted url.</span></td>
						<td ng-show="item.Edit==true" class="contexts">
						<input type="text" placeholder="Publication" ng-model="item.publication" value="{{item.publication}}"/>
						</td>
						<td ng-show="item.Edit==true" class="contexts">
						<input type="text" placeholder="Domain" ng-model="item.domain" value="{{item.domain}}"/>
						</td>
						<td ng-show="item.Edit==true" class="contexts">
						<input type="text" placeholder="Parser Class" ng-model="item.parser_class" value="{{item.parser_class}}"/>
						</td>
						<td ng-show="item.Edit==true" class="contexts">
						<input type="text" placeholder="Pas" ng-model="item.pas" value="{{item.pas}}"/>
						</td>
						<td ng-show="item.Edit==true" class="contexts">
						<input type="text" placeholder="Pas Std" ng-model="item.pas_std" value="{{item.pas_std}}"/>
						</td>
						<td ng-show="item.Edit==true" class="contexts">
						<input type="text" placeholder="Pas Std" ng-model="item.twitter_handle" value="{{item.twitter_handle}}"/>
						</td>
						<td ng-show="item.Edit==true" class="contexts"  >
								<span class="icon-checkbox-unchecked blue" ng-hide="item.article_whitelist==true" ng-model="item.article_whitelist" ng-click="changeCheck('article_whitelist', $index, data.active)"></span>
								<span class="icon-checkbox-checked blue" ng-hide="item.article_whitelist==false"  ng-model="item.article_whitelist" ng-click="changeCheck('article_whitelist', $index, data.active)"></span>

						</td>
						<td ng-show="item.Edit==true" class="contexts" >
								<span class="icon-checkbox-unchecked blue" ng-hide="item.twitter_whitelist==true" ng-model="item.twitter_whitelist" ng-click="changeCheck('twitter_whitelist', $index, data.active)"></span>
								<span class="icon-checkbox-checked blue" ng-hide="item.twitter_whitelist==false"  ng-model="item.twitter_whitelist" ng-click="changeCheck('twitter_whitelist', $index, data.active)"></span>

						</td>
						<td ng-show="item.Edit==true" class="contexts whitelist">
						<input type="text" placeholder="CDN-Domains" value="{{item.cdn_domains.toString()}}"/>
						<div class="show_icons">
							<span class="icon-floppy-disk" ng-click="savItem($index)"></span>
								<span class="icon-cancel-circle" ng-click="noEdit($index, item.id)"></span>
							
						</div>
						</td>

					</tr>

				</tbody>
			</table>
		</div>

	</section>

</div>